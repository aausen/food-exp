{% extends 'base.html' %} 

{% block title %} User food home {% endblock %}

{% block head %} 

<script 
    src="https://code.jquery.com/jquery-3.6.0.js" 
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" 
    crossorigin="anonymous"></script>


    {% if g.jasmine_tests %}
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.7.1/jasmine.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.7.1/jasmine-html.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.7.1/boot.min.js"></script>
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/jasmine/3.7.1/jasmine.min.css"
      />
    {% endif %}

{% endblock%}

{% block body %}




{% if current_user.is_authenticated %}
<img class="profile" src="{{ user_img }}" alt="user_img">
Welcome {{ current_user.user_name }}
{% endif %}
<!-- <h1>This is all the food you have!</h1> -->


<div class = "container">
    <form class="search" action="/search">
        <input type="text" 
               name="searchBar"
               id="searchBar"
               placeholder="Search for food"/>
        <button type="submit">Submit</button>
    </form>
</div>


<div class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
    <input type="checkbox" class="location-filter btn-check" id="btncheck1" autocomplete="off" data-location=" Refrigerator">
    <label class="btn btn-outline-primary" for="btncheck1">Refrigerator</label>
  
    <input type="checkbox" class="location-filter btn-check" id="btncheck2" autocomplete="off" data-location=" Freezer">
    <label class="btn btn-outline-primary" for="btncheck2">Freezer</label>
  
    <input type="checkbox" class="location-filter btn-check" id="btncheck3" autocomplete="off" data-location=" Pantry">
    <label class="btn btn-outline-primary" for="btncheck3">Pantry</label>
</div>

<section>
    <h2>Here is all the food you have:</h2>
       
    
    <table class="table table-striped table-bordered" width=100%>
    
        <tr>
            <th>Food name</th>
            <th>Location</th>
            <th>Expiration Date</th>
            <th>Delete</th>
        </tr>
        {% for food_id, name, loc, exp, user_food_id in food_by_user %}
        <tr class="food-entry">
        
        <td>{{ name }}</td>
        <td data-loc="{{ loc }}">{{ loc }}</td>
        <td>{{ exp }}</td>
        <td><form action="/delete" method="POST"><button type="submit" name="delete-food" value="{{ user_food_id }}">Delete</button></form></td>
        
        </tr>
        {% endfor %}
    </table>
       
    
</section>

<script src="/static/homepage.js"></script>
{% endblock %}